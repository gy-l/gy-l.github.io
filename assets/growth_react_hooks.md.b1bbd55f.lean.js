import{_ as n,c as s,a,b as p,o as t}from"./app.2ef81f74.js";const m='{"title":"React\u5E38\u89C1\u95EE\u9898","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u590D\u6742\u6570\u636E\u7684\u66F4\u65B0","slug":"\u590D\u6742\u6570\u636E\u7684\u66F4\u65B0"},{"level":2,"title":"\u6570\u7EC4\u7684\u66F4\u65B0","slug":"\u6570\u7EC4\u7684\u66F4\u65B0"}],"relativePath":"growth/react/hooks.md","lastUpdated":1634198786455}',e={},o=p(`__VP_STATIC_START__<h1 id="react\u5E38\u89C1\u95EE\u9898" tabindex="-1">React\u5E38\u89C1\u95EE\u9898 <a class="header-anchor" href="#react\u5E38\u89C1\u95EE\u9898" aria-hidden="true">#</a></h1><h2 id="\u590D\u6742\u6570\u636E\u7684\u66F4\u65B0" tabindex="-1">\u590D\u6742\u6570\u636E\u7684\u66F4\u65B0 <a class="header-anchor" href="#\u590D\u6742\u6570\u636E\u7684\u66F4\u65B0" aria-hidden="true">#</a></h2><p>\u5F88\u591A\u65F6\u5019\u6211\u4EEC\u67D0\u4E2A<code>state</code>\u6570\u636E\u4E0D\u662F\u7B80\u5355\u6570\u636E\u7C7B\u578B(\u503C\u7C7B\u578B)\uFF0C\u800C\u662F\u6570\u7EC4\u3001\u5BF9\u8C61\u4E4B\u7C7B(\u5F15\u7528\u7C7B\u578B)\u3002\u800C<code>React</code>\u7EC4\u4EF6\u7684\u66F4\u65B0\u673A\u5236\u5BF9<code>state</code>\u53EA\u8FDB\u884C\u6D45\u5BF9\u6BD4\uFF0C\u4E5F\u5C31\u662F\u66F4\u65B0\u67D0\u4E2A\u590D\u6742\u7C7B\u578B\u6570\u636E\u65F6\u53EA\u8981\u5B83\u7684\u5F15\u7528\u5730\u5740\u6CA1\u53D8\uFF0C\u90A3\u5C31\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\u7EC4\u4EF6\u3002 \u5E38\u7528\u7684\u51FD\u6570\u5F0F\u66F4\u65B0</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E5F\u53EF\u4EE5\u4F7F\u7528 Object.assign</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>prevState<span class="token punctuation">,</span> <span class="token operator">...</span>updatedValues<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6DF1\u62F7\u8D1D\u5BF9\u8C61\uFF0C\u7528\u5168\u65B0\u7684\u526F\u672C\u66F4\u65B0\u6570\u636E\u3002</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> _ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;Anna&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;James&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment">// \u65B9\u6CD5\u4E00</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">o</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u65B9\u6CD5\u4E8C</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">o</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>o<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u65B9\u6CD5\u4E09\uFF08\u63A8\u8350\uFF09</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="\u6570\u7EC4\u7684\u66F4\u65B0" tabindex="-1">\u6570\u7EC4\u7684\u66F4\u65B0 <a class="header-anchor" href="#\u6570\u7EC4\u7684\u66F4\u65B0" aria-hidden="true">#</a></h2><p>\u5BF9\u4E8E\u6570\u7EC4\u7684\u66F4\u65B0\uFF0C\u65E5\u5E38\u7684\u4F7F\u7528\u51FD\u6570\u5F0F\u66F4\u65B0\u5373\u53EF\u5B9E\u73B0\uFF0C</p><div class="language-js line-numbers-mode"><pre><code> <span class="token keyword">const</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> setTodos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">&quot;react&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> <span class="token function-variable function">addItems</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTodos</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">return</span><span class="token punctuation">[</span>
      <span class="token operator">...</span>todos<span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">&quot;hooks&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u4F46\u5728\u67D0\u6B21\u505A\u6587\u4EF6\u5939\u904D\u5386\u6587\u4EF6\u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u9047\u5230\u8FC7\u4E00\u4E2A\u95EE\u9898\uFF0C\u521D\u6B65\u5206\u6790<code>useState</code>\u662F\u5F02\u6B65\u7684\u4E0D\u4F1A\u5408\u5E76<code>state</code>\u7684\u503C\u539F\u56E0\u5BFC\u81F4\uFF0C\u5373\u4F7F\u7ED3\u5408<code>useEffect</code>\u4E5F\u4E0D\u80FD\u5F97\u5230\u5B9E\u9645\u7684\u66F4\u65B0\u7ED3\u679C\u3002 \u6700\u7EC8\u662F\u5728\u66F4\u65B0state\u524D\u5BF9state\u505A\u4E86push\u624D\u5F97\u5230\u4E86\u5408\u5E76\u7684state</p><div class="language-js line-numbers-mode"><pre><code>loadFileList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> fileName<span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">CDN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>res<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    uid<span class="token operator">:</span> file<span class="token punctuation">.</span>file<span class="token punctuation">.</span>uid<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setLoadFileList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>loadFileList<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>__VP_STATIC_END__`,11);function c(l,u,r,i,k,d){return t(),s("div",null,[a(`
 * @Author: lgy
 * @Date: 2021-10-13 16:46:04
 * @LastEditors: lgy
 * @LastEditTime: 2021-10-14 16:06:26
 * @Description: hooks
`),o])}var g=n(e,[["render",c]]);export{m as __pageData,g as default};
